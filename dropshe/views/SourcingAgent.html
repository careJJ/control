<!DOCTYPE html>
<!-- saved from url=(0066)http://app.dropshe.com/sourcing/add?order_id=31&product_item_id=50 -->
<html class="js sizes customelements history pointerevents postmessage webgl websockets cssanimations csscolumns csscolumns-width csscolumns-span csscolumns-fill csscolumns-gap csscolumns-rule csscolumns-rulecolor csscolumns-rulestyle csscolumns-rulewidth csscolumns-breakbefore csscolumns-breakafter csscolumns-breakinside flexbox picture srcset webworkers" lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Dropshe</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="manifest" href="http://app.dropshe.com/static/home/site.webmanifest">
    <link rel="apple-touch-icon" href="http://app.dropshe.com/static/home/icon.png">
    <!-- Place favicon.ico in the root directory -->

    <link rel="stylesheet" href="./SourcingAgent/normalize.css">
    <link rel="stylesheet" href="./SourcingAgent/main.css">
    <link rel="stylesheet" href="./SourcingAgent/style.css">
    <link rel="stylesheet" href="https://cdn.quilljs.com/1.3.6/quill.snow.css">
    <meta name="theme-color" content="#fafafa">
<script>
    window.intercomSettings = {
        app_id: "p6b7wznf",
        name: "Aierce Zheng", // Full name
        email: "udbmnmidtf@gmail.com", // Email address
        created_at: "2020-03-13 13:27:13" // Signup date as a Unix timestamp
    };
</script><script>
    (function(){
        var w=window;
        var ic = w.Intercom;
        if(typeof ic==="function")
        {
            ic('reattach_activator');
            ic('update',w.intercomSettings);
        }
        else {
            var d=document;
            var i=function(){ i.c(arguments); };
            i.q=[];i.c=function(args){ i.q.push(args); };
            w.Intercom=i;var l=function(){
                var s=d.createElement('script');
                s.type='text/javascript';
                s.async=true;
                s.src='https://widget.intercom.io/widget/p6b7wznf';
                var x=d.getElementsByTagName('script')[0];
                x.parentNode.insertBefore(s,x);
            };
            if(w.attachEvent){
                w.attachEvent('onload',l);
            } else {
                w.addEventListener('load',l,false);
            }
        }
    })();
</script></head>



<body>
<!--[if IE]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade
    your browser</a> to improve your experience and security.</p>
<![endif]-->

<!-- Add your site or application content here -->
<!-- Add your site or application content here -->
<div class="drop-header">
    <div class="logo-box">
        <a href="http://app.dropshe.com/dashboard"><img src="./SourcingAgent/logo.svg"></a>
    </div>
    <div class="head-nav">
        <ul class="nav-list">
            <li class="nav-item ">
                <a href="http://app.dropshe.com/dashboard"><span class="tit">Dashboard</span></a>
            </li>
            <li class="nav-item active">
                <a href="http://app.dropshe.com/sourcing"><span class="tit">Sourcing</span></a>
            </li>
            <li class="nav-item ">
                <a href="http://app.dropshe.com/hub"><span class="tit">HUB</span></a>
            </li>
            <li class="nav-item ">
                <a href="http://app.dropshe.com/product"><span class="tit">Products</span></a>
            </li>
            <li class="nav-item ">
                <a href="http://app.dropshe.com/order/drop"><span class="tit">Orders</span></a>
            </li>
            <li class="nav-item ">
                <a href="http://app.dropshe.com/stores"><span class="tit">Stores</span></a>
            </li>
        </ul>
    </div>
    <div class="head-right">
        <a class="notification-link" href="http://app.dropshe.com/notification">
                        <i class="icon icon-notification"></i>
        </a>
        <div class="user dropdown">
            <a class="dropdown-hd" href="javascript:void(0);">

                   
                <img src="./SourcingAgent/default.jpg" class="img">
                <span class="user-name">Aierce Zheng</span>
            </a>
            <ul class="dropdown-menu">
                <li>
                    <a href="http://app.dropshe.com/accout/genereal"><i class="icon"></i>Settings</a>
                </li>
                <li>
                    <a href="javascript:void(0);"><i class="icon icon-help"></i>Help Center</a>
                </li>
                <li>
                    <a href="http://app.dropshe.com/tickets"><i class="icon icon-ticket"></i>Ticket</a>
                </li>
                <li>
                    <a href="http://app.dropshe.com/login/index/logout"><i class="icon icon-logout"></i>Log Out</a>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="drop-main">
    <div class="drop-content">
        <form id="form" action="http://app.dropshe.com/sourcing/add?order_id=31&amp;product_item_id=50" method="post">
            <div class="wrapper sourcing-add">
                <div class="main-title">Create Product Souring</div>

                <div class="sourcing-form">
                    <div class="form-group">
                        <label class="tit">Product Title</label>
                        <input type="text" name="product_name" class="form-control" placeholder="" value="MAGIC Teeth Brace">
                    </div>
                    <div class="form-group">
                        <label class="tit">Souring Porduct Link</label>
                        <input type="text" name="url" class="form-control" placeholder="" value="">
                    </div>
                    <div class="form-group">
                        <label class="tit">Images</label>
                        <div class="img-upload">
                            <div class="img img-add" id="drop-area">
                                <input type="file" accept="image/*">
                            </div>
                            <div id="imageList">
                                                                <div class="img">
                                    <img src="./SourcingAgent/1__1_f8888e23-450e-48de-85c6-fdb7eee16e49.jpg">
                                    <span image-id="372" class="del-image-flag del"></span>
                                </div>
                                                            </div>
                        </div>
                    </div>
                    <input type="hidden" name="order_id" value="31">
                    <input type="hidden" name="product_item_id" value="50">
                    <input type="hidden" name="shopify_product_data" value="[]">
                    <div class="row">
                        <div class="form-group col-xs-6">
                            <label class="tit">Target product price(USD)</label>
                            <input type="number" min="0.01" step="0.01" id="price" name="price" class="form-control" placeholder="" value="">
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="tit">Target shipping price(USD)</label>
                            <input type="number" min="0.01" step="0.01" id="shipping_price" name="shipping_price" class="form-control" placeholder="" value="">
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="tit">Estimated Delivery</label>
                            <select class="form-control js-example-tags express-select select2-hidden-accessible" name="user_delivery" data-select2-id="1" tabindex="-1" aria-hidden="true">
                                                            </select><span class="select2 select2-container select2-container--default" dir="ltr" data-select2-id="2" style="width: 557px;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-user_delivery-h2-container"><span class="select2-selection__rendered" id="select2-user_delivery-h2-container" role="textbox" aria-readonly="true"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
                        </div>
                        <div class="form-group col-xs-6">
                            <label class="tit">SOURCING QTY(Option)</label>
                            <input type="number" min="1" step="1" id="except_num" name="num" class="form-control" placeholder="" value="">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="tit">Description </label>
                        <div id="quillDescription" class="sourcing-description"></div>
                    </div>
                    <div class="btn-box">
                        <button type="button" id="submit" class="btn btn-bg-main btn-big">Post</button>
                        <button type="button" id="cancel" class="btn btn-bd-main btn-big">Cancel</button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="drop-foot">Copyright 2019, Dropshe. All rights reserved.</div>
</div>
<script src="./SourcingAgent/modernizr-3.7.1.min.js"></script>
<script src="./SourcingAgent/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="./SourcingAgent/plugins.js"></script>
<script src="./SourcingAgent/main.js"></script>

<link rel="stylesheet" type="text/css" href="./SourcingAgent/webuploader.css">
<script type="text/javascript" src="./SourcingAgent/webuploader.js"></script>

<link rel="stylesheet" type="text/css" href="./SourcingAgent/jquery.dm-uploader.min.css">
<script src="./SourcingAgent/jquery.dm-uploader.min.js"></script>

<script type="text/javascript" src="./SourcingAgent/select2.min.js"></script>
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script>
    var toolbarOptions = [
        ['bold', 'italic', 'underline', 'strike'], // toggled buttons
        ['blockquote', 'code-block'],

        [{
            'header': 1
        }, {
            'header': 2
        }],
        [{
            'list': 'ordered'
        }, {
            'list': 'bullet'
        }],
        [{
            'script': 'sub'
        }, {
            'script': 'super'
        }],
        [{
            'indent': '-1'
        }, {
            'indent': '+1'
        }],
        [{
            'direction': 'rtl'
        }],

        [{
            'size': ['small', false, 'large', 'huge']
        }],
        [{
            'header': [1, 2, 3, 4, 5, 6, false]
        }],

        [{
            'color': []
        }, {
            'background': []
        }],
        [{
            'font': []
        }],
        [{
            'align': []
        }],

        ['clean']
    ];
    var quill = new Quill('#quillDescription', {
        modules: {
            toolbar: toolbarOptions
        },
        theme: 'snow'
    });
</script>
<script type="text/javascript">
    var inPost = 0;

    function imageTpl(image_url, image_id) {
        return '<div class="img">\n' +
            '<img src="' + image_url + '"/>\n' +
            '<span image-id="' + image_id + '" class="del-image-flag del"></span>\n' +
            '</div>'
    }

    $(function () {

        $('#price').on('change', function () {
            $(this).val(parseFloat($(this).val()).toFixed(2));
        });

        $(".js-example-tags").select2({
            tags: true
        });

        var imageListBox = $('#imageList');
        $("#drop-area").dmUploader({
            multiple: false,
            dataType: 'json',
            url: '/sourcing/api/upload',
            allowedTypes: "image/*",
            extFilter: ["jpg", "jpeg", "png", "gif"],
            onUploadSuccess: function (id, data) {
                if (data.code !== 1) {
                    console.log(data);
                    return;
                }

                var image = data.data;
                imageListBox.append(imageTpl(image.image_url, image.image_id));
            },
            onUploadError: function (id, xhr, status, errorThrown) {
                console.log(id, xhr, status, errorThrown)
            }
        });

        $(document).on('click', '.del-image-flag', function () {
            var ele = $(this).parent(), q = {"image_id": $(this).attr('image-id')};
            $.post('/sourcing/api/delImage', q, function (d) {
                if (d.code !== 1) {
                    console.log(d);
                    return;
                }

                ele.remove();
            });
        });

        $('#submit').on('click', function () {
            if (inPost) {
                return;
            }

            var error = 0;
            var formData = $("#form").serializeArray();

            let postData = { 'description': quill.container.firstChild.innerHTML };

            formData.forEach(function (item) {
                var ele = "input[name='" + item.name + "'], select[name='" + item.name + "']", ed = $(ele);
                if (!item.value || item.value === '0') {
                    error++;
                    if (error === 1) {
                        var s = ed.offset().top - 90;
                        $("body,html").animate({
                            scrollTop: s
                        }, 500);
                        ed.focus();
                    }
                    ed.css("border", "1px solid #ff8500")
                } else {
                    postData[item.name] = item.value;
                    ed.css("border", "1px solid #d9e0ea")
                }
            });

            if (error > 0) {
                return;
            }

            inPost = 1;
            $.post('/sourcing/api/orderCreate', postData, function (d) {
                if (d.code !== 1) {
                    console.log(d);
                    return;
                }

                window.location.href = '/sourcing'
            });
        });

        $('#cancel').on('click', function () {
            window.location.reload()
        })
    });
</script>


</body></html>